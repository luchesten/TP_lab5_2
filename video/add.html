<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

<div class="p-3 mb-2 bg-primary-subtle text-primary-emphasis">
    <h3>Adicionar nota</h3>
</div>

<form>
    <div class="mb-3">
        <label for="code" class="form-label">Code:</label>
        <input type="text" class="form-control" id="code" name="code" value="">
    </div>
    <div class="mb-3">
        <label for="title" class="form-label">Title:</label>
        <input type="text" class="form-control" id="title" name="title" value="">
    </div>
    <div class="mb-3">
        <label for="description" class="form-label">Description:</label>
        <input type="text" class="form-control" id="description" name="description" value="">
    </div>
    <div class="mb-3">
        <label for="duration" class="form-label">Duration:</label>
        <input type="text" class="form-control" id="duration" name="duration" value="">
    </div>

    <button type="button" class="btn btn-primary" onclick="add()">Guardar</button>
</form>

<div class="mt-3">
    <a href="../index.html" class="btn btn-info text-white">Volver al inicio</a>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<script>
    function add() {
        var code = document.getElementById("code").value.trim();
        var title = document.getElementById("title").value.trim();
        var description = document.getElementById("description").value.trim();
        var duration = document.getElementById("duration").value.trim();

        var newVideo = {
            code: code,
            title: title,
            description: description,
            duration: duration
        };

        console.log("Adding video:", newVideo);

        var xmlhttp = new XMLHttpRequest();
        xmlhttp.open("POST", "http://localhost:8080/videos", true);
        xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        xmlhttp.send(JSON.stringify(newVideo));

    }
</script>

</body>
</html>
